/* 2017-02-08 11:09:28 */
!function(e,t){function o(e){var o=t.createElement("iframe");return o.style.cssText="width:0;height:0;display:none",o.src=e,t.body.appendChild(o),o}function n(e){var o=new RegExp("(^| )"+e+"=([^;]*)(;|$)"),n=t.cookie.match(o);return n?n[2]||"":""}function i(){return navigator.userAgent.indexOf("Windows NT 5.1")>=0&&(navigator.userAgent.indexOf("MSIE 6")>=0||navigator.userAgent.indexOf("MSIE 7")>=0||navigator.userAgent.indexOf("MSIE 8")>=0)&&"https:"===location.protocol}function r(){var e=navigator.userAgent.toLowerCase();return e.indexOf("android")>=0||e.indexOf("iphone")>=0||e.indexOf("ipad")>=0||e.indexOf("ipod")>=0||e.indexOf("mobile")>=0}function a(){var t=(new Date).getTime();if(8e3>t-p){var i=n("cna"),r=n("nickname");if(i||r){c?(d.event="start_iframe",g.sendGoldlog(d),o("//g.alicdn.com/alilog/oneplus/blk.html#coid="+encodeURIComponent(i)+"&noid="+encodeURIComponent(r)+"&opid="+d.ckOpl+"&ht="+encodeURIComponent(location.host))):o("//g.alicdn.com/alilog/oneplus/blk.html#coid="+encodeURIComponent(i)+"&noid="+encodeURIComponent(r))}else e.setTimeout(function(){a()},300)}}try{var s=e.navigator,c=!1;if(c){var l=36e5,g=function(){return{guid:function(e){for(var t=[],o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",n=(e||32)-1;n>-1;n--)t[n]=o.charAt(Math.random()*o.length);return t.join("")},joinObj:function(e){var t=[],o="";if(e&&"object"==typeof e)for(var n in e)e.hasOwnProperty(n)&&(t[t.length]=n+"="+encodeURIComponent(e[n]));return t.length&&(o=t.join("&")),o},requestImg:function(t,o){var n=e["img_"+this.guid(8)]=new Image,i=this.joinObj(o);i&&(t+=(t.indexOf("?")>-1?"&":"?")+i),n.src=t},getHostFromURL:function(e){if(/https?:\/\/([^:\/]+)(:|\/)/.test(e)){e=RegExp.$1;var t=e.split(".");return t.length<=2?t.join("."):t.slice(1).join(".")}return""},sendGoldlog:function(e){var t={cache:this.guid(7),logtype:2,"spm-cnt":"0.0.0.0.0",gmkey:"EXP",gokey:this.joinObj(e),cna:n("cna")};this.requestImg("https://gm.mmstat.com/oneid.oneplusjs.oneplusjs",t)}}}(),u=function(o){var n,i=s.cookieEnabled,r=/msie (\d+\.\d)/i.test(s.userAgent);try{supportStorage="localStorage"in e&&null!==e.localStorage&&"object"==typeof e.localStorage,supportStorage&&(localStorage.setItem("testtdoid","test"),localStorage.removeItem("testtdoid"))}catch(a){supportStorage=!1}if(r)try{n=t.createElement("INPUT"),n.type="hidden",n.style.display="none",n.addBehavior("#default#userData"),t.body.appendChild(n)}catch(a){r=!1}return{get:function(e){return this.getStorage(e)||this.getCookie(e)||this.getUserData(e)||null},set:function(e,t,o){var n,a=!1;return supportStorage&&(this.setStorage(e,t),supportStorage=a=this.getStorage(e)==t),supportStorage?a:(i&&(n=new Date,n.setTime(n.getTime()+8760*l),this.setCookie(e,t,{expires:n,path:o}),i=a=this.getCookie(e)==t),!a&&r&&(this.setUserData(e,t),r=a=this.getUserData(e)==t),a)},clear:function(t){t=t||"_lastvisited",i&&this.setCookie(t,"",{expires:new Date(1)}),supportStorage&&e.localStorage.removeItem(t)},getCookie:function(e){var o=new RegExp("(^| )"+e+"=([^;]*)(;|$)"),n=t.cookie.match(o);return n?decodeURIComponent(n[2])||null:null},setCookie:function(e,o,n){t.cookie=e+"="+encodeURIComponent(o)+("; path="+((n=n||{}).path||"/"))+(n.expires?"; expires="+n.expires.toGMTString():"")+(n.domain?"; domain="+n.domain:"")+(n.secure?"; secure":"")},getStorage:function(t){var o=null;return supportStorage&&(o=e.localStorage.getItem(t)),o},setStorage:function(t,o){supportStorage&&e.localStorage.setItem(t,o)},getUserData:function(e){if(r)try{return n.load(o),n.getAttribute(e)||null}catch(t){r=!1}},setUserData:function(e,t){if(r)try{n.load(o),n.setAttribute(e,t),n.save(o)}catch(i){r=!1}}}}(g.getHostFromURL(e.location.href)),d={};d.ckOpl=u.get("_opls_unq_"),d.ckOpl||(d.ckOpl=g.guid(16),u.set("_opls_unq_",d.ckOpl),d.ckFirst=!0),d.event="js_entry",g.sendGoldlog(d)}var p=(new Date).getTime();i()||r()||(c&&(d.event="start_logic",g.sendGoldlog(d)),a())}catch(m){}}(window,document);